<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="Dashboard">
  <meta name="keyword" content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
  <title>Bookwallah | Account</title>
  {% load static %}
  {% load customfilters %}
  <!-- Favicons -->
  <link href="{% static 'img/favicon.png' %}" rel="icon">
  <link href="{% static 'img/apple-touch-icon.png' %}" rel="apple-touch-icon">

  <!-- Bootstrap core CSS -->
  <link href="{% static 'lib/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <!--external css-->
  <link href="{% static 'lib/font-awesome/css/font-awesome.css' %}" rel="stylesheet" />
  <!-- Custom styles for this template -->
  <link href="{% static 'css/style.css'%}" rel="stylesheet">
  <link href="{% static 'css/style-responsive.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/to-do.css' %}">
    <script src="{% static 'lib/chart-master/Chart.js' %}"></script>
  <link rel="stylesheet" type="text/css" href="{% static 'lib/gritter/css/jquery.gritter.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'lib/bootstrap-timepicker/css/timepicker.css' %}" />

    <!-- FullCalendar -->
    <link href="{% static 'css/fullcalendar.css' %}" rel='stylesheet' media="all" />
    <link href="{% static 'css/croppie.css' %}" rel="stylesheet" media="all">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.4/croppie.min.css" rel="stylesheet" media="all">

  <!-- =======================================================
    Template Name: Dashio
    Template URL: https://templatemag.com/dashio-bootstrap-admin-template/
    Author: TemplateMag.com
    License: https://templatemag.com/license/
  ======================================================= -->
</head>

<body>
{% block body %}
  <section id="container">
    <!-- **********************************************************************************************************************************************************
        TOP BAR CONTENT & NOTIFICATIONS
        *********************************************************************************************************************************************************** -->
    <!--header start-->
    <header class="header black-bg">
      <div class="sidebar-toggle-box">
        <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Toggle Navigation"></div>
      </div>
      <!--logo start-->
      <a href="{% url 'profile' %}" class="logo" style="margin-top:5px;"><img src="{% static 'img/logo.png' %}" alt="BookWallah"/></a>
      <!--logo end-->
      <div class="nav notify-row" id="top_menu">
        <!--  notification start -->
        <ul class="nav top-menu">
          <!-- settings start -->
          <li class="dropdown">
            <a data-toggle="dropdown" class="dropdown-toggle" href="index.html#">
              <i class="fa fa-tasks"></i>
              <span class="badge bg-theme">4</span>
              </a>
            <ul class="dropdown-menu extended tasks-bar">
              <div class="notify-arrow notify-arrow-green"></div>
              <li>
                <p class="green">You have 4 pending tasks</p>
              </li>
              <li>
                <a href="index.html#">
                  <div class="task-info">
                    <div class="desc">Dashio Admin Panel</div>
                    <div class="percent">40%</div>
                  </div>
                  <div class="progress progress-striped">
                    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%">
                      <span class="sr-only">40% Complete (success)</span>
                    </div>
                  </div>
                </a>
              </li>
              <li>
                <a href="index.html#">
                  <div class="task-info">
                    <div class="desc">Database Update</div>
                    <div class="percent">60%</div>
                  </div>
                  <div class="progress progress-striped">
                    <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%">
                      <span class="sr-only">60% Complete (warning)</span>
                    </div>
                  </div>
                </a>
              </li>
              <li>
                <a href="index.html#">
                  <div class="task-info">
                    <div class="desc">Product Development</div>
                    <div class="percent">80%</div>
                  </div>
                  <div class="progress progress-striped">
                    <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%">
                      <span class="sr-only">80% Complete</span>
                    </div>
                  </div>
                </a>
              </li>
              <li>
                <a href="index.html#">
                  <div class="task-info">
                    <div class="desc">Payments Sent</div>
                    <div class="percent">70%</div>
                  </div>
                  <div class="progress progress-striped">
                    <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100" style="width: 70%">
                      <span class="sr-only">70% Complete (Important)</span>
                    </div>
                  </div>
                </a>
              </li>
              <li class="external">
                <a href="#">See All Tasks</a>
              </li>
            </ul>
          </li>
          <!-- settings end -->
          <!-- inbox dropdown start-->
          <li id="header_inbox_bar" class="dropdown">
            <a data-toggle="dropdown" class="dropdown-toggle" href="index.html#">
              <i class="fa fa-envelope-o"></i>
              <span class="badge bg-theme">5</span>
              </a>
            <ul class="dropdown-menu extended inbox">
              <div class="notify-arrow notify-arrow-green"></div>
              <li>
                <p class="green">You have 5 new messages</p>
              </li>
              <li>
                <a href="index.html#">
                  <span class="photo"><img alt="image" src="{% static 'img/ui-zac.jpg' %}"></span>
                  <span class="subject">
                  <span class="from">Zac Snider</span>
                  <span class="time">Just now</span>
                  </span>
                  <span class="message">
                  Hi mate, how is everything?
                  </span>
                  </a>
              </li>
              <li>
                <a href="index.html#">
                  <span class="photo"><img alt="image" src="{% static 'img/ui-divya.jpg' %}"></span>
                  <span class="subject">
                  <span class="from">Divya Manian</span>
                  <span class="time">40 mins.</span>
                  </span>
                  <span class="message">
                  Hi, I need your help with this.
                  </span>
                  </a>
              </li>
              <li>
                <a href="index.html#">
                    <span class="photo"><img alt="image" src="{% static 'img/ui-danro.jpg' %}"></span>
                  <span class="subject">
                  <span class="from">Dan Rogers</span>
                  <span class="time">2 hrs.</span>
                  </span>
                  <span class="message">
                  Love your new Dashboard.
                  </span>
                  </a>
              </li>
              <li>
                <a href="index.html#">
                  <span class="photo"><img alt="image" src="{% static 'img/ui-sherman.jpg' %}"></span>
                  <span class="subject">
                  <span class="from">Dj Sherman</span>
                  <span class="time">4 hrs.</span>
                  </span>
                  <span class="message">
                  Please, answer asap.
                  </span>
                  </a>
              </li>
              <li>
                <a href="index.html#">See all messages</a>
              </li>
            </ul>
          </li>
          <!-- inbox dropdown end -->
          <!-- notification dropdown start-->
          <li id="header_notification_bar" class="dropdown">
            <a data-toggle="dropdown" class="dropdown-toggle" href="index.html#">
              <i class="fa fa-bell-o"></i>
              <span class="badge bg-warning">7</span>
              </a>
            <ul class="dropdown-menu extended notification">
              <div class="notify-arrow notify-arrow-yellow"></div>
              <li>
                <p class="yellow">You have 7 new notifications</p>
              </li>
              <li>
                <a href="index.html#">
                  <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                  Server Overloaded.
                  <span class="small italic">4 mins.</span>
                  </a>
              </li>
              <li>
                <a href="index.html#">
                  <span class="label label-warning"><i class="fa fa-bell"></i></span>
                  Memory #2 Not Responding.
                  <span class="small italic">30 mins.</span>
                  </a>
              </li>
              <li>
                <a href="index.html#">
                  <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                  Disk Space Reached 85%.
                  <span class="small italic">2 hrs.</span>
                  </a>
              </li>
              <li>
                <a href="index.html#">
                  <span class="label label-success"><i class="fa fa-plus"></i></span>
                  New User Registered.
                  <span class="small italic">3 hrs.</span>
                  </a>
              </li>
              <li>
                <a href="index.html#">See all notifications</a>
              </li>
            </ul>
          </li>
          <!-- notification dropdown end -->
        </ul>
        <!--  notification end -->
      </div>
      <div class="top-menu">
        <ul class="nav pull-right top-menu">
          <li><a class="logout" href="{% url 'signout' %}">Sign Out</a></li>
        </ul>
      </div>
    </header>
    <!--header end-->
    <!-- **********************************************************************************************************************************************************
        MAIN SIDEBAR MENU
        *********************************************************************************************************************************************************** -->
    <!--sidebar start-->
    <aside>
      <div id="sidebar" class="nav-collapse ">
        <!-- sidebar menu start-->
        <ul class="sidebar-menu" id="nav-accordion">
          <p class="centered"><a href="{% url 'profile' %}"><img src="{{image}}" class="img-circle" width="80"></a></p>
          <h5 class="centered">{{ request.user.first_name }} {{ request.user.last_name }}</h5>
          <li class="sub-menu">
            <a  href="javascript:;">
              <i class="fa fa-dashboard"></i>
              <span>Dashboard</span>
              </a>
            <ul class="sub">
              <li ><a href="{% url 'main_dashboard' %}">Main Dashboard</a></li>
              <li ><a href="{% url 'proj_dashboard' %}">Project Dashboard</a></li>
              <li><a href="{% url 'vol_dashboard' %}">Volunteer Dashboard</a></li>
                <li ><a href="{% url 'donor_dashboard' %}">Donor Dashboard</a></li>
                <li><a href="{% url 'child_dashboard' %}">Child Dashboard</a></li>
              <li><a href="{% url 'rec_dashboard' %}">Recruitment Dashboard</a></li>
            </ul>
          </li>
            {% if user.is_authenticated %}
          <li class="sub-menu">
            <a class="active" href="javascript:;">
              <i class="fa fa-book"></i>
              <span>My Account</span>
              </a>
            <ul class="sub">
              <li class="active" ><a href="{% url 'profile' %}">Profile</a></li>
                <li><a href="{% url 'calender' %}">Calender</a></li>
            </ul>
          </li>
          <li class="sub-menu">
            <a href="javascript:;">
              <i class="fa fa-comments-o"></i>
              <span>Chat Room</span>
              </a>
            <ul class="sub">
              <li><a href="{% url 'lobby' %}">Lobby</a></li>
            </ul>
          </li>
          <li class="sub-menu">
            <a  href="javascript:;">
              <i class="fa fa-picture-o"></i>
              <span>Gallery</span>
              </a>
            <ul class="sub">
              <li ><a href="{% url 'session_gallery' %}">Session</a></li>
              <li><a href="{% url 'project_gallery' %}">Project</a></li>
              <li><a href="{% url 'donor_gallery' %}">Donor</a></li>
              <li><a href="{% url 'kid_gallery' %}">Kid</a></li>
            </ul>
          </li>

            {% else %}
            <li class="mt">
            <a href="{% url 'signin' %}">
              <i class="fa fa-book"></i>
              <span>Sign In</span>
              </a>
            </ul>
          </li>
            {% endif %}
        </ul>
        <!-- sidebar menu end-->
      </div>
    </aside>
    <!--sidebar end-->
    <!-- **********************************************************************************************************************************************************
        MAIN CONTENT
        *********************************************************************************************************************************************************** -->
    <!--main content start-->
    <section id="main-content">
      <section class="wrapper site-min-height">
        <div class="row mt">
          <div class="col-lg-12">
            <div class="row content-panel">
              <div class="col-md-4 profile-text mt mb centered">
                <div class="right-divider hidden-sm hidden-xs">
                  <h4 class="badge bg-info" style="color:white;font-size:16px;margin:1px;">{{request.user.date_joined|date:"M, Y"}}</h4>
                  <h5>JOINING DATE</h5>
                  <h4 class="badge  bg-info" style="color:white;font-size:16px;margin:1px;">{{request.user.date_joined|delta:"-d"}} day(s)</h4>
                  <h5>JOURNEY WITH BOOKWALLAH</h5>
                  <h4 class="badge  bg-info" style="color:white;font-size:16px;margin:1px;">5</h4>
                  <h5>TEAM STRENGTH</h5>
                </div>
              </div>
              <!-- /col-md-4 -->
              <div class="col-md-4 profile-text mt">
                <h3>{{ request.user.first_name }} {{ request.user.last_name }}</h3>
                  <h5 style="font-size:18px;"><strong>{{project}}</strong></h5>
                  <h5 style="font-size:16px;"><strong>{{request.user.groups.all.0}}</strong></h5>
                  <h5><strong>{{role_val}}</strong></h5>

              </div>
              <!-- /col-md-4 -->
              <div class="col-md-4 centered">
                <div class="profile-pic">
                  <p><img src="{{image}}" class="img-circle" height="200" width="200"></p>
                </div>
              </div>
              <!-- /col-md-4 -->
            </div>
            <!-- /row -->
          </div>
          <!-- /col-lg-12 -->
          <div class="col-lg-12 mt">
            <div class="row content-panel">
              <div class="panel-heading">
                <ul class="nav nav-tabs nav-justified">
                  <li class="active">
                    <a data-toggle="tab" href="#overview">Overview</a>
                  </li>
                  <li>
                    <a data-toggle="tab" href="#edit">Edit Profile</a>
                  </li>
                </ul>
              </div>
              <!-- /panel-heading -->
              <div class="panel-body">
                <div class="tab-content">
                  <div id="overview" class="tab-pane active">

                    <div class="row">

                      <div class="col-md-6">
                          <div class="row">
                          <div class="col-lg-6 col-md-6 col-sm-6 mb">
                <div class="weather-2 pn">
                  <div class="weather-2-header">
                    <div class="row" style="margin-top:5px;">
                      <div class="col-sm-6 col-xs-6">
                          <p><strong>NEW YORK</strong></p>
                      </div>
                      <div class="col-sm-6 col-xs-6 goright">
                        <p>Thu Apr 14, 2014</p>
                      </div>
                    </div>
                  </div>
                  <!-- /weather-2 header -->
                  <div class="row centered">
                    <img src="{% static 'img/ny.jpg' %}" class="img-circle" width="120">
                  </div>
                  <div class="row data">
                    <div class="col-sm-6 col-xs-6 goleft">
                      <h4 style="margin-left:0px;"><b>16 ºC</b></h4>
                      <h6>21º max</h6>
                      <h6>8º min</h6>
                    </div>
                    <div class="col-sm-6 col-xs-6 goright">
                      <h5><i class="fa fa-sun-o fa-2x"></i></h5>
                      <h6><b>Sunny</b></h6>
                      <h5>7:15 am</h5>
                    </div>
                  </div>
                </div>
              </div>

                          <div class="col-md-6 col-sm-6 mb">
                <div class="green-panel pn donut-chart">
                  <div class="green-header">
                    <h5 style="color:#12b0e2;"><strong>ATTENDANCE</strong></h5>
                  </div>
                  <canvas id="serverstatus01" height="120" width="120" style="margin:0 auto;"></canvas>
                  <script>
                  var data = {
                            datasets: [{
                            data: {{att}},
                            backgroundColor: [
                                 "#797979",
                                 "#e9f0f4",
                                ],
                                }],
                             labels: ["Attended","Not-Attended"],
                         }
                         var opt = {
                    responsive: false,
                    legend: {
                    display: false
                    },
                    maintainAspectRatio: true,
                    }
                    ctx = document.getElementById("serverstatus01").getContext("2d")

                    var myDoughnut = new Chart(ctx,{type:'doughnut',data:data,options:opt});
                  </script>
                  <div class="row">
                    <div class="col-sm-5 col-xs-6">
                      <p>Monthly<br>Attendance:</p>
                    </div>
                    <div class="col-sm-6 col-xs-6 goright">
                      <h2 style="color:#e9f0f4;">{{att_p|convert:"int"}}%</h2>
                    </div>
                  </div>

                </div>

                <!-- /grey-panel -->
              </div>
                            <h4>Task Progress</h4>
                        <div class="row centered">
                          <div class="col-md-8 col-md-offset-2">
                            <h5>Dashboard Update ({{strength}}%)</h5>
                            <div class="progress">
                              <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: {{strength}}%">
                                <span class="sr-only">{{strength}}% Complete (success)</span>
                              </div>
                            </div>
                            <h5>Assigned Tasks (84%)</h5>
                            <div class="progress">
                              <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 80%">
                                <span class="sr-only">80% Complete (success)</span>
                              </div>
                            </div>

                          </div>
                          <!-- /col-md-8 -->
                        </div>
                          </div>

                        <!-- /detailed -->
                      </div>
                      <!-- /col-md-6 -->
                      <div class="col-md-6 detailed">

                        <h4>User Stats</h4>
                        <div class="row centered mb">
                          <div class="col-sm-4">
                            <h1><i class="fa fa-ticket"></i></h1>
                            <h3>0</h3>
                            <h6>TOTAL SESSIONS</h6>
                          </div>
                          <div class="col-sm-4">
                            <h1><i class="fa fa-trophy"></i></h1>
                            <h3>0</h3>
                            <h6>COMPLETED TASKS</h6>
                          </div>
                          <div class="col-sm-4">
                            <h1><i class="fa fa-star"></i></h1>
                            <h3>0</h3>
                            <h6>APPRAISAL RATING</h6>
                          </div>
                        </div>
                        <!-- /row -->
                        <!-- /row -->

                          {% if request.user|has_group:"Volunteer" %}
                          <h4>Tasks Assigned</h4>
                      <div class="row centered">
                          <div class="col-md-12">
                              <div class="row mt">
          <div class="col-md-12">
            <section class=" tasks-widget">
                <form role="form" id="task-form" class="form-horizontal" method="POST" enctype="multipart/form-data" data-url='{{ request.build_absolute_uri|safe }}'>
                <div class="task-content">
                  <ul class="task-list" style="height:200px;overflow:auto;">
                      {% if tasks %}
                      {% for task in tasks %}

                       <li >

                      <div class="task-checkbox">
                        <input type="checkbox" name="checkbox" class="list-child " value="{{task.id}}" />
                      </div>
                      <div class=" task-title" >
                        {% if task.type == "Donor" %}
                        <span class=" bg-theme04 task-title-sp" style="color:white;padding:3px 1px;">{{task.task}} </span>
                        {% else %}
                        <span class="bg-theme task-title-sp" style="color:white;padding:3px 1px;">{{task.task}} </span>
                        {% endif %}

                          {% if task.date|delta:"d" == 0 %}
                          <span class="badge bg-theme pull-right">{{ task.date|delta:"h" }}:{{ task.date|delta:"m" }} time left</span>
                          {% elif task.date|delta:"d" == 1 %}
                          <span class="badge bg-theme pull-right">{{ task.date|delta:"d" }} day left</span>
                          {% else %}
                        <span class="badge bg-warning pull-right">{{ task.date|delta:"d" }} days left</span>
                          {% endif %}
                        <br>
                        <span class="task-title-sp">Assigned By: <span class="badge bg-inverse">{{task.assigned_by.user.first_name}} {{task.assigned_by.user.last_name}}</span></span>

                      </div>
                    </li>
                      {% endfor %}
                      {% else %}
                      <p>No Pending Tasks.</p>
                      {% endif %}
                  </ul>
                </div>
                <div class=" add-task-row">
                  <button id="task-form-btn" class="btn btn-success btn-sm pull-left" type="submit">Confirm</button>
                    <button id="todo" class="btn btn-default btn-sm pull-right"  type="button">See All Tasks</button>
                </div>
                <div class="modal fade in" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2" aria-hidden="true" style="display: none; padding-right: 17px; margin:150px auto;">
                <div class="modal-dialog" style="height:600px;overflow:auto;">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                      <h4 class="modal-title" id="myModalLabel2" style="color:#ffffff;" >All Tasks</h4>
                    </div>
                    <div class="modal-body" style="padding-top:0px;">
                        <table class="table table-striped table-advance table-hover">
                <thead>
                  <tr>
                    <th> Due Date</th>
                    <th class="hidden-phone">Task</th>
                    <th>Assigned By</th>
                    <th>Status</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="modal-body2">
                </tbody>
              </table>
                    </div>
                    <div class="modal-footer">
                    </div>
                  </div>
                </div>
              </div>
                </form>


            </section>
          </div>
          <!-- /col-md-12-->
        </div>
                          </div>
                      </div>
                          {% else %}
                          <h4>Assign Tasks</h4>
                      <div class="row centered">
                          <div class="col-md-12">
                              <div class="row">
          <div class="col-md-12">
            <section class=" tasks-widget">
                <form role="form" id="task-creation-form" class="form-horizontal" method="POST" enctype="multipart/form-data" data-url='{{ request.build_absolute_uri|safe }}'>
                <div class="task-content">
                  <ul class="task-list">
                    <li>
                      <div class="form-group">
                            <label class="col-lg-2 control-label">Volunteer:</label>
                            <div class="col-lg-7" >
                               <input id="volunteer" type="text" placeholder=" " name="volunteer" class="form-control" value="" style="background-color:#ffffff;" autocomplete="off">
                              <input type="text" placeholder=" " name="type" class="form-control" value="Project" style="display:none;" hidden>
                                <ul id="toggle-menu" class="dropdown-menu search-menu" role="menu" style="margin-left:85px;width: 90%;" >
                              </ul>

                            </div>
                          </div>
                    </li>
                    <li>
                      <div class="form-group">
                            <label class="col-lg-2 control-label">Task:</label>
                            <div class="col-lg-7" >
                               <input id="task" type="text" placeholder=" " name="task" class="form-control" value="" style="background-color:#ffffff;" autocomplete="off">
                            </div>
                          </div>
                    </li>
                    <li>
                      <div class="form-group">
                            <label class="col-lg-2 control-label">Due DateTime:</label>
                            <div class="col-lg-4">
                              <input type="date" placeholder=" " name="duedate" class="form-control" value="">
                            </div>
                          <div class="input-group bootstrap-timepicker col-lg-4" >
                      <input type="text" name="time" class="form-control timepicker-default"  >
                      <span class="input-group-btn" >
                        <button class="btn btn-theme04" type="button" style="margin-left:70px;"><i class="fa fa-clock-o"></i></button>
                        </span>
                    </div>
                          </div>
                    </li>
                  </ul>
                </div>
                <div class=" add-task-row">
                  <button id="task-creation-form-btn" class="btn btn-success btn-sm pull-left" type="submit">Confirm</button>
                     <button id="alltask" class="btn btn-default btn-sm pull-right" type="button" >See All Tasks</button>
                </div>
                </form>
                <div class="modal fade in" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none; padding-right: 17px; margin:150px auto;">
                <div class="modal-dialog" style="height:600px;overflow:auto;">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                      <h4 class="modal-title" id="myModalLabel" style="color:#ffffff;" >All Tasks</h4>
                    </div>
                    <div class="modal-body" style="padding-top:0px;">
                        <table class="table table-striped table-advance table-hover">
                <thead>
                  <tr>
                    <th> Due Date</th>
                    <th class="hidden-phone">Task</th>
                    <th>Assigned To</th>
                    <th>Status</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="modal-body">
                </tbody>
              </table>
                    </div>
                    <div class="modal-footer">
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </div>
          <!-- /col-md-12-->
        </div>
                          </div>
                      </div>
                          {% endif %}

                        <!-- /row -->
                      </div>
                      <!-- /col-md-6 -->
                    </div>

                    <!-- /OVERVIEW -->
                  </div>
                  <!-- /tab-pane -->
                  <!-- /tab-pane -->
                  <div id="edit" class="tab-pane" style="text-align:center;">
                    <div class="row">
                      <div class="col-lg-8 col-lg-offset-2 detailed" >
                        <h4 class="mb">Personal Information</h4>
                        <form role="form" id="form1" class="form-horizontal" method="POST" enctype="multipart/form-data" data-url='{{ request.build_absolute_uri|safe }}'>
                            {% csrf_token %}
                          <div class="avatar-wrapper">
                              <div class="avatar-cropper">
                                  <img class="profile-picture" id="image" src="{{image}}" />
                              </div>
                              <div class="upload-button">
                                  <i class="fa fa-arrow-circle-up" aria-hidden="true"></i>
                              </div>
                              <input class="file-upload" type="file" accept="avatar/*"/>
                          </div>
                            <div class="form-group">
                            <label class="col-lg-2 control-label" >First Name</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=""  name="first-name" class="form-control" value="{{first_name}}" disabled>
                            </div>
                          </div>
                            <div class="form-group">
                            <label class="col-lg-2 control-label">Last Name</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="last-name"  class="form-control" value="{{last_name}}" disabled>
                            </div>
                          </div>
                            <div class="form-group">
                            <label class="col-lg-2 control-label">Nick Name</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="nick-name"  class="form-control" value="{{nick_name}}">
                            </div>
                          </div>
                            <div class="form-group">
                            <label class="col-lg-2 control-label">DOB</label>
                            <div class="col-lg-6">
                              <input type="date" placeholder=" " name="dob" class="form-control" value="{{dob}}">
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-lg-2 control-label">Company/College</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="c-name" class="form-control" value="{{company}}">
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-lg-2 control-label">Position/Course</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="pos" class="form-control" value="{{position}}">
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-lg-2 control-label">Hobbies/Interests</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="interest" class="form-control" value="{{hobbies}}">
                            </div>
                          </div>
                            <div class="form-group">
                            <label class="col-lg-2 control-label">Chapter</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="chapter" class="form-control" value="{{chapter}}">
                            </div>
                          </div>
                            <div class="form-group">
                            <label class="col-lg-2 control-label">Project (Library)</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="project" class="form-control" value="{{project}}">
                            </div>
                          </div>
                            <div class="form-group">

                            <label class="col-lg-2 control-label">Position (in Bookwallah)</label>
                            <div class="col-lg-6">
                              <select id="role" name="role"  class="form-control" style="text-align:center; padding: .375rem .75rem;">
                                <option value="0">Please select</option>
                                <option value="1">Psychology Team</option>
                                <option value="2">Graphic Designer</option>
                                <option value="3">Story Teller</option>
                                <option value="4">HR</option>
                              </select>
                            </div>
                          </div>
                            <div class="form-group">
                            <label class="col-lg-2 control-label">Joining Date</label>
                            <div class="col-lg-6">
                              <input type="date" placeholder=" " name="jdate" class="form-control" value="{{joining_date}}" disabled>
                            </div>
                          </div>
                            <div class="form-group">
                            <label class="col-lg-2 control-label">Future Plans</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="fplan" class="form-control" value="{{future_plans}}">
                            </div>
                            </div>
                          <div class="form-group">
                            <label class="col-lg-2 control-label">Description</label>
                            <div class="col-lg-6">
                              <textarea rows="6" cols="30" class="form-control" id="desc" name="" ></textarea>
                            </div>
                          </div>
                            <div class="form-group">
                            <div class="col-lg-offset-4 col-lg-8">
                              <button type="button" class="btn btn-theme" id="form-submit" style="margin-left:55px;" ><i class="fa fa-check-square-o" ></i> Update</button>
                            </div>
                          </div>
                        </form>
                      </div>
                      <div class="col-lg-8 col-lg-offset-2 detailed mt">
                        <h4 class="mb">Contact Information</h4>
                        <form role="form" id="form2" class="form-horizontal" method="POST" enctype="multipart/form-data" data-url='{{ request.build_absolute_uri|safe }}'>
                            {% csrf_token %}
                          <div class="form-group">
                            <label class="col-lg-2 control-label">Address</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="addr1" class="form-control" value="{{addr1}}">
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-lg-2 control-label"></label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="addr2" class="form-control" value="{{addr2}}">
                            </div>
                          </div>
                            <div class="form-group">
                            <label class="col-lg-2 control-label">City</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="city" class="form-control" value="{{city}}">
                            </div>
                          </div>
                            <div class="form-group">
                            <label class="col-lg-2 control-label">State</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="state" class="form-control" value="{{state}}">
                            </div>
                          </div>
                            <div class="form-group">
                            <label class="col-lg-2 control-label">Country</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="country" class="form-control" value="{{country}}">
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-lg-2 control-label">Phone</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="phone" class="form-control" value="{{contact_number}}">
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-lg-2 control-label">Email</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="email" class="form-control" value="{{email}}" disabled>
                            </div>
                          </div>
                          <h4 class="mb">Social Links</h4>
                          <div class="form-group">
                            <label class="col-lg-2 control-label">Skype</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="skype" class="form-control" value="{{skype}}">
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-lg-2 control-label">Zoom</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="zoom" class="form-control" value="{{zoom}}">
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-lg-2 control-label">LinkedIn</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="linkedin" class="form-control" value="{{linkedin}}">
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-lg-2 control-label">Facebook</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="facebook" class="form-control" value="{{facebook}}">
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-lg-2 control-label">Instagram</label>
                            <div class="col-lg-6">
                              <input type="text" placeholder=" " name="instagram" class="form-control" value="{{instagram}}">
                            </div>
                          </div>
   
                          <div class="form-group">
                            <div class="col-lg-offset-4 col-lg-8">
                              <button type="submit" class="btn btn-theme" style="margin-left:55px;"><i class="fa fa-check-square-o" ></i> Update</button>
                            </div>
                          </div>
                        </form>
                      </div>
                      <!-- /col-lg-8 -->
                    </div>
                    <!-- /row -->
                  </div>
                  <!-- /tab-pane -->
                </div>
                <!-- /tab-content -->
              </div>
              <!-- /panel-body -->
            </div>
            <!-- /col-lg-12 -->
          </div>
          <!-- /row -->
        </div>
        <!-- /container -->
      </section>
      <!-- /wrapper -->
    </section>
    <!-- /MAIN CONTENT -->
    <!--main content end-->
    <!--footer start-->
    <footer class="site-footer">
      <div class="text-center">

      </div>
    </footer>
    <!--footer end-->
  </section>
  <!-- js placed at the end of the document so the pages load faster -->
  <script src="{% static 'lib/jquery/jquery.min.js' %}"></script>
  <script src="{% static 'lib/bootstrap/js/bootstrap.min.js' %}"></script>
  <script class="include" type="text/javascript" src="{% static 'lib/jquery.dcjqaccordion.2.7.js' %}"></script>
  <script src="{% static 'lib/jquery.scrollTo.min.js' %}"></script>
  <script src="{% static 'lib/jquery.nicescroll.js' %}" type="text/javascript"></script>
  <!--common script for all pages-->
  <script src="{% static 'lib/common-scripts.js' %}"></script>
  <script src="{% static 'lib/jquery.sparkline.js' %}"></script>
  <script src="{% static 'lib/sparkline-chart.js' %}"></script>
    <script type="text/javascript" src="{% static 'lib/gritter/js/jquery.gritter.js' %}"></script>
  <script type="text/javascript" src="{% static 'lib/gritter-conf.js' %}"></script>
  <!-- full calendar requires moment along jquery which is included above -->
    <script src="{% static 'js/moment.min.js' %}"></script>
    <script src="{% static 'js/fullcalendar.js' %}"></script>
    <script src="{% static 'js/croppie.js' %}"></script>
    <script type="text/javascript" src="{% static 'lib/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js' %}"></script>
    <script type="text/javascript" src="{% static 'lib/bootstrap-timepicker/js/bootstrap-timepicker.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.4/croppie.min.js"></script>
  <!--script for this page-->
  <!-- MAP SCRIPT - ALL CONFIGURATION IS PLACED HERE - VIEW OUR DOCUMENTATION FOR FURTHER INFORMATION -->
  <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyASm3CwaK9qtcZEWYa-iQwHaGi3gcosAJc&sensor=false"></script>
<script>
    $('.contact-map').click(function() {

      //google map in tab click initialize
      function initialize() {
        var myLatlng = new google.maps.LatLng(40.6700, -73.9400);
        var mapOptions = {
          zoom: 11,
          scrollwheel: false,
          center: myLatlng,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        }
        var map = new google.maps.Map(document.getElementById('map'), mapOptions);
        var marker = new google.maps.Marker({
          position: myLatlng,
          map: map,
          title: 'Dashio Admin Theme!'
        });
      }
      google.maps.event.addDomListener(window, 'click', initialize);
    });
  </script>
 <script type="text/javascript">
$(function() {
  // for now, there is something adding a click handler to 'a'
  var tues = moment().day(2).hour(19);

  // build trival night events for example data
  var events = [
    {
      title: "Event",
      start: moment().day(5).hour(9).minute(10),
      allDay:false,
      url: '#'
    },
  ];

  var trivia_nights = []

  for(var i = 1; i <= 4; i++) {
    var n = tues.clone().add(i, 'weeks');
    console.log("isoString: " + n.toISOString());
    trivia_nights.push({
      title: 'Trival Night @ Pub XYZ',
      start: n.toISOString(),
      allDay: false,
      url: '#'
    });
  }

  // setup a few events
  $('#calendar').fullCalendar({
    header: {
      left: 'prev,next today',
      center: 'title',
      right: 'month,agendaWeek,agendaDay,listWeek'
    },
    events: events.concat(trivia_nights)
  });
});
    </script>
<script type="text/javascript">
    $(document).ready(function() {
    $('#form1').submit(function(e) {
    e.preventDefault();
    msg = '';
    $body = $("body");
    var $myForm = $('#form1');
    var $formData = $(this).serialize();
    var $thisURL = $myForm.attr('data-url') || window.location.href;
    $.ajax({
        type:'POST',
        url:$thisURL,
        data: $formData,
        success:formSuccess1,
    });
    });
    function formSuccess1(data){
    $.gritter.add({
        // (string | mandatory) the heading of the notification
        title: 'Notification!',
        // (string | mandatory) the text inside the notification
        text: 'Personal Information saved successfully.',
        // (string | optional) the image to display on the left
        // (bool | optional) if you want it to fade out on its own or just sit there
        sticky: false,
        // (int | optional) the time you want it to be alive for before fading out
        time: 8000,
        // (string | optional) the class name you want to apply to that specific message
      });
      }
    $('#form2').submit(function(e) {
    e.preventDefault();
    msg = '';
    $body = $("body");
    var $myForm = $('#form2');
    var $formData = $(this).serialize();
    var $thisURL = $myForm.attr('data-url') || window.location.href;
    $.ajax({
        type:'POST',
        url:$thisURL,
        data: $formData,
        success: formSuccess2,
    });
    });
    function formSuccess2(data){
    $.gritter.add({
        // (string | mandatory) the heading of the notification
        title: 'Notification!',
        // (string | mandatory) the text inside the notification
        text: 'Contact Information saved successfully.',
        // (string | optional) the image to display on the left
        // (bool | optional) if you want it to fade out on its own or just sit there
        sticky: false,
        // (int | optional) the time you want it to be alive for before fading out
        time: 8000,
        // (string | optional) the class name you want to apply to that specific message
      });
      }
  });
</script>
<script>

    $(document).ready(function() {
        $('#role').val('{{role_key}}');
    var readURL = function(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('.profile-picture').attr('src', e.target.result);
                      $mycrop = $('.profile-picture').croppie({
                        enableExif: true,
                        viewport: {
                            width: 200,
                            height: 200,
                            type: 'circle'
                        },
                        boundary: {
                            width: 200,
                            height: 200,
                        }
                    });

            }

            reader.readAsDataURL(input.files[0]);
        }
    }
    $("#form-submit").on('click', function(){
    if (typeof $mycrop !== 'undefined'){
    $mycrop.croppie('result', {
            type: 'base64',
            format: 'png',
            size: { width: 200, height: 200 }
        }).then(function(resp) {
        $.ajax(
        {
        type:"POST",
        url: "{% url 'profile' %}",
        data:{
            imgbase64: resp
        },
       success: function(){
       $("#form1").submit();
       },
       error: function(e){
       console.log(e);
       }
       });
     });
     }
     else{
     $("#form1").submit();
     }
    });

    $(".file-upload").on('change', function(){
        readURL(this);
    });


    $(".upload-button").on('click', function() {
       $(".file-upload").click();
    });

    var blocks = $('div.pagescroll');
    blocks.current = 0;

    var next   = $('.next');
    var  prev   = $('.prev');
    prev.hide();
//make a universal slide handler
function blockControl(index){
    //using hide and show here to fit your example,
    //but this is where you would do slide or fades or whatever animation
    //the important part is it is 'showing' based on .eq()
    blocks.hide().eq(index).fadeIn();
}

//setup the initial state
blockControl(blocks.current);

next.on('click', function(){
    //move current up one
    blocks.current ++;
    //test if its the last block
    if( blocks.current >= blocks.length ){
        //prevent over reach
        blocks.current = blocks.length;

        //handle how the last slide will work, you could loop back the beginning or
        //whatever. Here we are just going to hide the next button.

        next.hide();
        prev.fadeIn();
    }else{
        //insure prev button is visalbe
        next.hide();
        prev.fadeIn();
        //do slider
        blockControl(blocks.current);
    }
});

prev.on('click', function(){
    //move current down one
    blocks.current --;
    //test if its the first block
    if( blocks.current <= 0 ){
        //prevent negative numbers
        blocks.current = 0;
        blockControl(blocks.current);
        //Here we are just going to hide the prev button. But we also could put in control
        //to loop the last or whatever
        prev.hide();
        next.fadeIn();
    }else{
        //insure next button is visalbe
        prev.hide();
        next.fadeIn();
        //do slider
        blockControl(blocks.current);
    }
});

});

</script>
<script>

    function setValue(e){
    $val = e.target.text;
         $('#toggle-menu').hide();
        $('#volunteer').val($val);
        $.ajax({
        type:'POST',
        url: "{% url 'profile' %}",
        data: { value: $val },
        success: function(resp){
        $att = resp.attendance;
        $loc = resp.location;
        $id = resp.id;
            for (i=0;i<$att.length;i++){
            $('.att-checkbox').append('<div class="row check-box"><input type="checkbox" id="approval'+i+'" name="approval" value="'+$id[i]+'"><label for="approval'+i+'" >'+$att[i]+' - '+$loc[i]+'</label></div>');
            }
        },
        });
    }
    $('#volunteer').on('input', function(e) {
    $('.menu-list').remove();
    $('.check-box').remove();
    $query = e.target.value;
        $.ajax({
        type:'POST',
        url: "{% url 'profile' %}",
        data: { input: $query },
        success: function(resp){
        $('.menu-list').remove();
        $vol = resp.volunteer;
            for (i=0;i<$vol.length;i++){
            $('.search-menu').append('<li><a onclick="setValue(event)" class="menu-list">'+$vol[i]+'</a></li>')
            };
            $('#toggle-menu').show();

        },
    });
    });
</script>
<script>
$(document).ready(function() {

    $('.timepicker-default').timepicker();
    $('#task-creation-form').on('submit',function(e) {
    e.preventDefault();
    msg = '';
    var $myForm = $('#task-creation-form');
    var $formData = $(this).serialize();
    var $thisURL = $myForm.attr('data-url') || window.location.href;
    $.ajax({
        type:'POST',
        url:$thisURL,
        data: $formData,
        success: formSuccess3
    });
    });
    function formSuccess3(data){
    $.gritter.add({
        // (string | mandatory) the heading of the notification
        title: 'Notification!',
        // (string | mandatory) the text inside the notification
        text: 'Task assigned successfully.',
        // (string | optional) the image to display on the left
        // (bool | optional) if you want it to fade out on its own or just sit there
        sticky: false,
        // (int | optional) the time you want it to be alive for before fading out
        time: 8000,
        // (string | optional) the class name you want to apply to that specific message
      });
      }
      $('#task-form').on('submit',function(e) {
    e.preventDefault();
    msg = '';
    var $myForm = $('#task-form');
    var $formData = $(this).serialize();
    var $thisURL = $myForm.attr('data-url') || window.location.href;
    $.ajax({
        type:'POST',
        url:$thisURL,
        data: $formData,
        success: formSuccess4,
    });
    });
    function formSuccess4(data){
    $.gritter.add({
        // (string | mandatory) the heading of the notification
        title: 'Notification!',
        // (string | mandatory) the text inside the notification
        text: 'Task completion submitted successfully.',
        // (string | optional) the image to display on the left
        // (bool | optional) if you want it to fade out on its own or just sit there
        sticky: false,
        // (int | optional) the time you want it to be alive for before fading out
        time: 8000,
        // (string | optional) the class name you want to apply to that specific message
      });
      }
      $('#todo').on('click',function(e){
        $.ajax({
        type:'POST',
        url: "{% url 'profile' %}",
        data: { todo: e.target.value },
        success: function(resp){

        $date = resp.date;
            $task = resp.task;
            $assigned_by = resp.assigned_by;
            $status=resp.status;
            for (i=0;i<$date.length;i++){
                if ($status[i] == "Done"){
                $('#modal-body2').append('<tr class="todo"><td id="date'+i+'">'+$date[i]+'</td><td id="task_name'+i+'">'+$task[i]+'</td><td id="assigned_by'+i+'">'+$assigned_by[i]+'</td><td id="status'+i+'"><span class="label label-info label-mini">'+$status[i]+'</span></td><td><button class="btn btn-success btn-xs approve-btn" value="'+i+'"><i class="fa fa-check"></i></button></td></tr>');
                }
                else if ($status[i] == "Approved")
                {
                  $('#modal-body2').append('<tr class="todo"><td id="date'+i+'">'+$date[i]+'</td><td id="task_name'+i+'">'+$task[i]+'</td><td id="assigned_by'+i+'">'+$assigned_by[i]+'</td><td id="status'+i+'"><span class="label label-success label-mini">'+$status[i]+'</span></td><td><button class="btn btn-success btn-xs approve-btn" value="'+i+'"><i class="fa fa-check"></i></button></td></tr>');
                }
                else
                {
                  $('#modal-body2').append('<tr class="todo"><td id="date'+i+'">'+$date[i]+'</td><td id="task_name'+i+'">'+$task[i]+'</td><td id="assigned_by'+i+'">'+$assigned_by[i]+'</td><td id="status'+i+'"><span class="label label-warning label-mini">'+$status[i]+'</span></td><td><button class="btn btn-success btn-xs approve-btn" value="'+i+'"><i class="fa fa-check"></i></button></td></tr>');
                }
            }
            $('#myModal2').css('display','block');
        },
        });
      });
      $('#alltask').on('click',function(e){
        $.ajax({
        type:'POST',
        url: "{% url 'profile' %}",
        data: { alltask: e.target.value },
        success: function(resp){
            $date = resp.date;
            $task = resp.task;
            $assigned_to = resp.assigned_to;
            $status=resp.status;
            for (i=0;i<$date.length;i++){
                if ($status[i] == "Done"){
                $('#modal-body').append('<tr class="tasks"><td id="date'+i+'">'+$date[i]+'</td><td id="task_name'+i+'">'+$task[i]+'</td><td id="assigned_to'+i+'">'+$assigned_to[i]+'</td><td id="status'+i+'"><span class="label label-info label-mini">'+$status[i]+'</span></td><td><button class="btn btn-success btn-xs approve-btn" value="'+i+'"><i class="fa fa-check"></i></button></td></tr>');
                }
                else if ($status[i] == "Approved")
                {
                  $('#modal-body').append('<tr class="tasks"><td id="date'+i+'">'+$date[i]+'</td><td id="task_name'+i+'">'+$task[i]+'</td><td id="assigned_to'+i+'">'+$assigned_to[i]+'</td><td id="status'+i+'"><span class="label label-success label-mini">'+$status[i]+'</span></td><td><button class="btn btn-success btn-xs approve-btn" value="'+i+'"><i class="fa fa-check"></i></button></td></tr>');
                }
                else
                {
                  $('#modal-body').append('<tr class="tasks"><td id="date'+i+'">'+$date[i]+'</td><td id="task_name'+i+'">'+$task[i]+'</td><td id="assigned_to'+i+'">'+$assigned_to[i]+'</td><td id="status'+i+'"><span class="label label-warning label-mini">'+$status[i]+'</span></td><td><button class="btn btn-success btn-xs approve-btn" value="'+i+'"><i class="fa fa-check"></i></button></td></tr>');
                }
            }
            $('#myModal').css('display','block');
        },
        });
      });

  });
  $(document).on('click','.approve-btn',function(e){
    $this = $(this);
     alert($this.val());
    });
  $(document).on('click','.close',function () {
        $('#myModal').css('display','none');
        $('#myModal2').css('display','none');
        $('.tasks').remove();
        $('.todo').remove();
    });


</script>

{% endblock%}
</body>

</html>
